<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸‰æºæ•°æ®å¯¹æ¯”ä¸èåˆè¿‡ç¨‹</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #eee;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 { text-align: center; color: #00d9ff; margin-bottom: 10px; }
        .subtitle { text-align: center; color: #888; font-size: 13px; margin-bottom: 30px; }
        
        .time-selector {
            text-align: center;
            margin-bottom: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        .time-selector select {
            background: #16213e;
            color: #00d9ff;
            border: 1px solid #333;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            min-width: 280px;
        }
        .time-selector button {
            background: #16213e;
            color: #00d9ff;
            border: 1px solid #333;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
        }
        .time-selector button:hover { background: #1e3a5f; }
        
        .sources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .source-card {
            background: #16213e;
            border-radius: 12px;
            padding: 20px;
            border: 2px solid #333;
        }
        .source-card.qw { border-color: #91cc75; }
        .source-card.om { border-color: #fac858; }
        .source-card.yr { border-color: #00d9ff; }
        
        .source-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .source-name { font-size: 18px; font-weight: bold; }
        .source-name.qw { color: #91cc75; }
        .source-name.om { color: #fac858; }
        .source-name.yr { color: #00d9ff; }
        
        .source-status {
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 11px;
        }
        .source-status.ok { background: #4ecca333; color: #4ecca3; }
        .source-status.warn { background: #fac85833; color: #fac858; }
        .source-status.err { background: #e9456033; color: #e94560; }
        
        .source-data {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            font-size: 13px;
        }
        .data-item {
            background: #1a1a2e;
            padding: 10px;
            border-radius: 6px;
        }
        .data-label { color: #888; font-size: 11px; margin-bottom: 3px; }
        .data-value { color: #fff; font-size: 16px; font-weight: bold; }
        .source-note {
            margin-top: 10px;
            padding: 8px;
            background: #1a1a2e;
            border-radius: 6px;
            font-size: 11px;
            color: #888;
        }
        
        .weights-section {
            background: #16213e;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
        }
        .section-title {
            color: #00d9ff;
            font-size: 16px;
            margin-bottom: 15px;
        }
        .weights-visual {
            display: flex;
            height: 40px;
            border-radius: 8px;
            overflow: hidden;
            margin: 20px 0;
        }
        .weight-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        .weight-bar.qw { background: #91cc75; color: #000; }
        .weight-bar.om { background: #fac858; color: #000; }
        .weight-bar.yr { background: #00d9ff; color: #000; }
        
        .result-section {
            background: linear-gradient(135deg, #1e3a5f 0%, #2d4a6f 100%);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            border: 2px solid #00d9ff;
            margin-bottom: 30px;
        }
        .result-title { color: #00d9ff; font-size: 20px; margin-bottom: 20px; }
        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        .result-item {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 10px;
        }
        .result-value { font-size: 32px; font-weight: bold; color: #fff; }
        .result-label { font-size: 12px; color: #888; margin-top: 5px; }
        
        .footer {
            text-align: center;
            color: #555;
            font-size: 12px;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” ä¸‰æºæ•°æ®å¯¹æ¯”ä¸èåˆè¿‡ç¨‹</h1>
        <p class="subtitle">å®æ—¶å±•ç¤ºå’Œé£ã€Open-Meteoã€yr.no ä¸‰æºæ•°æ®çš„å¼‚å¸¸æ£€æµ‹ã€æƒé‡è®¡ç®—ä¸èåˆç»“æœ</p>
        
        <div class="time-selector">
            <button onclick="prev()">â† ä¸Šä¸€ä¸ª</button>
            <select id="sel" onchange="load(this.value)"></select>
            <button onclick="next()">ä¸‹ä¸€ä¸ª â†’</button>
        </div>
        
        <div id="content"></div>
        
        <div class="footer">
            <p>ç®—æ³•ç‰ˆæœ¬ï¼šV5.1 | èåˆç­–ç•¥ï¼šå’Œé£ä¼˜å…ˆä¿æŠ¤ + 3Ïƒå¼‚å¸¸æ£€æµ‹</p>
            <p><a href="huinan-visualization-v3.html" style="color: #00d9ff;">â† è¿”å›ä¸»ç›‘æµ‹é¡µé¢</a></p>
        </div>
    </div>
    
    <script>
        const records = [{"timestamp": "2026-02-21T11:20:45.685194", "temp": 22.7, "humidity": 66.9, "dew": 16.1, "pressure": 1007.8, "windDir": 55, "windSpeed": 10.7, "qw": {"source": "qweather", "timestamp": "2026-02-21T11:20:44.762454", "temp": 23.0, "humidity": 66, "dew": 16.0, "pressure": 1006, "windDir": 0, "windSpeed": 11.0, "raw": {"obsTime": "2026-02-21T11:16+08:00", "temp": "23", "feelsLike": "22", "icon": "101", "text": "\u591a\u4e91", "wind360": "174", "windDir": "\u5357\u98ce", "windScale": "2", "windSpeed": "11", "humidity": "66", "precip": "0.0", "pressure": "1006", "vis": "15", "cloud": "10", "dew": "16"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T11:20:45.685151", "temp": 22.1, "humidity": 69, "dew": 16.2, "pressure": 1012, "windDir": 182, "windSpeed": 10.1, "raw": {"time": "2026-02-21T11:15", "interval": 900, "temperature_2m": 22.1, "relative_humidity_2m": 69, "dew_point_2m": 16.2, "surface_pressure": 1012.3, "wind_direction_10m": 182, "wind_speed_10m": 10.1}}, "yr": {}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": false, "weight_factor": 1.0, "note": "\u65e0\u6570\u636e"}, "weights": {"qweather": 0.7, "openmeteo": 0.3, "yrno": 0}, "conflict": false}, {"timestamp": "2026-02-21T12:00:09.398980", "temp": 23.0, "humidity": 62.6, "dew": 15.9, "pressure": 1007.5, "windDir": 56, "windSpeed": 4.4, "qw": {"source": "qweather", "timestamp": "2026-02-21T12:00:06.126274", "temp": 23.0, "humidity": 62, "dew": 16.0, "pressure": 1006, "windDir": 0, "windSpeed": 2.0, "raw": {"obsTime": "2026-02-21T11:57+08:00", "temp": "23", "feelsLike": "25", "icon": "101", "text": "\u591a\u4e91", "wind360": "144", "windDir": "\u4e1c\u5357\u98ce", "windScale": "1", "windSpeed": "2", "humidity": "62", "precip": "0.0", "pressure": "1006", "vis": "25", "cloud": "10", "dew": "16"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T12:00:09.398928", "temp": 23.0, "humidity": 64, "dew": 15.8, "pressure": 1011, "windDir": 186, "windSpeed": 10.1, "raw": {"time": "2026-02-21T12:00", "interval": 900, "temperature_2m": 23.0, "relative_humidity_2m": 64, "dew_point_2m": 15.8, "surface_pressure": 1011.9, "wind_direction_10m": 186, "wind_speed_10m": 10.1}}, "yr": {}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": false, "weight_factor": 1.0, "note": "\u65e0\u6570\u636e"}, "weights": {"qweather": 0.7, "openmeteo": 0.3, "yrno": 0}, "conflict": false}, {"timestamp": "2026-02-21T13:51:53.673800", "temp": 24.3, "humidity": 59.1, "dew": 15.2, "pressure": 1005.5, "windDir": 58, "windSpeed": 8.7, "qw": {"source": "qweather", "timestamp": "2026-02-21T13:51:52.731331", "temp": 24.0, "humidity": 60, "dew": 15.0, "pressure": 1004, "windDir": 0, "windSpeed": 8.0, "raw": {"obsTime": "2026-02-21T13:50+08:00", "temp": "24", "feelsLike": "23", "icon": "104", "text": "\u9634", "wind360": "155", "windDir": "\u4e1c\u5357\u98ce", "windScale": "2", "windSpeed": "8", "humidity": "60", "precip": "0.0", "pressure": "1004", "vis": "25", "cloud": "10", "dew": "15"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T13:51:53.673750", "temp": 24.9, "humidity": 57, "dew": 15.8, "pressure": 1009, "windDir": 194, "windSpeed": 10.4, "raw": {"time": "2026-02-21T13:45", "interval": 900, "temperature_2m": 24.9, "relative_humidity_2m": 57, "dew_point_2m": 15.8, "surface_pressure": 1009.3, "wind_direction_10m": 194, "wind_speed_10m": 10.4}}, "yr": {}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": false, "weight_factor": 1.0, "note": "\u65e0\u6570\u636e"}, "weights": {"qweather": 0.7, "openmeteo": 0.3, "yrno": 0}, "conflict": false}, {"timestamp": "2026-02-21T14:01:06.484196", "temp": 24.3, "humidity": 58.8, "dew": 15.2, "pressure": 1005.5, "windDir": 58, "windSpeed": 4.5, "qw": {"source": "qweather", "timestamp": "2026-02-21T14:01:05.393406", "temp": 24.0, "humidity": 60, "dew": 15.0, "pressure": 1004, "windDir": 0, "windSpeed": 2.0, "raw": {"obsTime": "2026-02-21T13:57+08:00", "temp": "24", "feelsLike": "23", "icon": "104", "text": "\u9634", "wind360": "155", "windDir": "\u4e1c\u5357\u98ce", "windScale": "1", "windSpeed": "2", "humidity": "60", "precip": "0.0", "pressure": "1004", "vis": "26", "cloud": "10", "dew": "15"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T14:01:06.484150", "temp": 25.0, "humidity": 56, "dew": 15.6, "pressure": 1009, "windDir": 194, "windSpeed": 10.4, "raw": {"time": "2026-02-21T14:00", "interval": 900, "temperature_2m": 25.0, "relative_humidity_2m": 56, "dew_point_2m": 15.6, "surface_pressure": 1009.0, "wind_direction_10m": 194, "wind_speed_10m": 10.4}}, "yr": {}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": false, "weight_factor": 1.0, "note": "\u65e0\u6570\u636e"}, "weights": {"qweather": 0.7, "openmeteo": 0.3, "yrno": 0}, "conflict": false}, {"timestamp": "2026-02-21T15:00:08.694349", "temp": 24.4, "humidity": 58.9, "dew": 15.1, "pressure": 1004.2, "windDir": 58, "windSpeed": 7.0, "qw": {"source": "qweather", "timestamp": "2026-02-21T15:00:03.293122", "temp": 24.0, "humidity": 61, "dew": 15.0, "pressure": 1003, "windDir": 0, "windSpeed": 6.0, "raw": {"obsTime": "2026-02-21T14:56+08:00", "temp": "24", "feelsLike": "22", "icon": "104", "text": "\u9634", "wind360": "133", "windDir": "\u4e1c\u5357\u98ce", "windScale": "2", "windSpeed": "6", "humidity": "61", "precip": "0.0", "pressure": "1003", "vis": "30", "cloud": "91", "dew": "15"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T15:00:08.694299", "temp": 25.4, "humidity": 54, "dew": 15.4, "pressure": 1007, "windDir": 193, "windSpeed": 9.3, "raw": {"time": "2026-02-21T15:00", "interval": 900, "temperature_2m": 25.4, "relative_humidity_2m": 54, "dew_point_2m": 15.4, "surface_pressure": 1007.8, "wind_direction_10m": 193, "wind_speed_10m": 9.3}}, "yr": {}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": false, "weight_factor": 1.0, "note": "\u65e0\u6570\u636e"}, "weights": {"qweather": 0.7, "openmeteo": 0.3, "yrno": 0}, "conflict": false}, {"timestamp": "2026-02-21T16:00:13.263722", "temp": 23.8, "humidity": 59.0, "dew": 15.0, "pressure": 1003.5, "windDir": 56, "windSpeed": 5.4, "qw": {"source": "qweather", "timestamp": "2026-02-21T16:00:07.228714", "temp": 23.0, "humidity": 62, "dew": 15.0, "pressure": 1002, "windDir": 0, "windSpeed": 4.0, "raw": {"obsTime": "2026-02-21T15:58+08:00", "temp": "23", "feelsLike": "21", "icon": "104", "text": "\u9634", "wind360": "178", "windDir": "\u5357\u98ce", "windScale": "1", "windSpeed": "4", "humidity": "62", "precip": "0.0", "pressure": "1002", "vis": "30", "cloud": "100", "dew": "15"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T16:00:13.263647", "temp": 25.6, "humidity": 52, "dew": 15.0, "pressure": 1007, "windDir": 187, "windSpeed": 8.7, "raw": {"time": "2026-02-21T16:00", "interval": 900, "temperature_2m": 25.6, "relative_humidity_2m": 52, "dew_point_2m": 15.0, "surface_pressure": 1007.1, "wind_direction_10m": 187, "wind_speed_10m": 8.7}}, "yr": {}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": false, "weight_factor": 1.0, "note": "\u65e0\u6570\u636e"}, "weights": {"qweather": 0.7, "openmeteo": 0.3, "yrno": 0}, "conflict": false}, {"timestamp": "2026-02-21T16:44:17.260473", "temp": 24.0, "humidity": 58.6, "dew": 15.6, "pressure": 1003.6, "windDir": 74, "windSpeed": 5.1, "qw": {"source": "qweather", "timestamp": "2026-02-21T16:44:14.695201", "temp": 23.0, "humidity": 63, "dew": 16.0, "pressure": 1001, "windDir": 0, "windSpeed": 3.0, "raw": {"obsTime": "2026-02-21T16:40+08:00", "temp": "23", "feelsLike": "22", "icon": "104", "text": "\u9634", "wind360": "134", "windDir": "\u4e1c\u5357\u98ce", "windScale": "1", "windSpeed": "3", "humidity": "63", "precip": "0.0", "pressure": "1001", "vis": "30", "cloud": "100", "dew": "16"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T16:44:15.582712", "temp": 25.6, "humidity": 52, "dew": 15.0, "pressure": 1006, "windDir": 185, "windSpeed": 8.3, "raw": {"time": "2026-02-21T16:30", "interval": 900, "temperature_2m": 25.6, "relative_humidity_2m": 52, "dew_point_2m": 15.0, "surface_pressure": 1006.8, "wind_direction_10m": 185, "wind_speed_10m": 8.3}}, "yr": {"source": "yrno", "timestamp": "2026-02-21T16:44:17.260359", "temp": 26.0, "humidity": 48.7, "pressure": 1008.7, "windDir": 174.9, "windSpeed": 3.4, "raw": {"air_pressure_at_sea_level": 1008.7, "air_temperature": 26.0, "cloud_area_fraction": 100.0, "relative_humidity": 48.7, "wind_from_direction": 174.9, "wind_speed": 3.4}}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "weights": {"qweather": 0.6, "openmeteo": 0.4, "yrno": 0.1}, "conflict": true}, {"timestamp": "2026-02-21T16:44:56.763838", "temp": 24.0, "humidity": 58.6, "dew": 15.6, "pressure": 1003.6, "windDir": 74, "windSpeed": 5.1, "qw": {"source": "qweather", "timestamp": "2026-02-21T16:44:51.663627", "temp": 23.0, "humidity": 63, "dew": 16.0, "pressure": 1001, "windDir": 0, "windSpeed": 3.0, "raw": {"obsTime": "2026-02-21T16:40+08:00", "temp": "23", "feelsLike": "22", "icon": "104", "text": "\u9634", "wind360": "134", "windDir": "\u4e1c\u5357\u98ce", "windScale": "1", "windSpeed": "3", "humidity": "63", "precip": "0.0", "pressure": "1001", "vis": "30", "cloud": "100", "dew": "16"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T16:44:52.418498", "temp": 25.6, "humidity": 52, "dew": 15.0, "pressure": 1006, "windDir": 185, "windSpeed": 8.3, "raw": {"time": "2026-02-21T16:30", "interval": 900, "temperature_2m": 25.6, "relative_humidity_2m": 52, "dew_point_2m": 15.0, "surface_pressure": 1006.8, "wind_direction_10m": 185, "wind_speed_10m": 8.3}}, "yr": {"source": "yrno", "timestamp": "2026-02-21T16:44:56.763707", "temp": 26.0, "humidity": 48.7, "pressure": 1008.7, "windDir": 174.9, "windSpeed": 3.4, "raw": {"air_pressure_at_sea_level": 1008.7, "air_temperature": 26.0, "cloud_area_fraction": 100.0, "relative_humidity": 48.7, "wind_from_direction": 174.9, "wind_speed": 3.4}}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "weights": {"qweather": 0.6, "openmeteo": 0.4, "yrno": 0.1}, "conflict": true}, {"timestamp": "2026-02-21T17:01:06.946066", "temp": 24.0, "humidity": 58.6, "dew": 15.6, "pressure": 1003.6, "windDir": 73, "windSpeed": 5.1, "qw": {"source": "qweather", "timestamp": "2026-02-21T17:01:03.960406", "temp": 23.0, "humidity": 63, "dew": 16.0, "pressure": 1001, "windDir": 0, "windSpeed": 3.0, "raw": {"obsTime": "2026-02-21T16:56+08:00", "temp": "23", "feelsLike": "22", "icon": "104", "text": "\u9634", "wind360": "134", "windDir": "\u4e1c\u5357\u98ce", "windScale": "1", "windSpeed": "3", "humidity": "63", "precip": "0.0", "pressure": "1001", "vis": "30", "cloud": "100", "dew": "16"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T17:01:04.940824", "temp": 25.5, "humidity": 52, "dew": 15.0, "pressure": 1006, "windDir": 182, "windSpeed": 8.3, "raw": {"time": "2026-02-21T17:00", "interval": 900, "temperature_2m": 25.5, "relative_humidity_2m": 52, "dew_point_2m": 15.0, "surface_pressure": 1006.5, "wind_direction_10m": 182, "wind_speed_10m": 8.3}}, "yr": {"source": "yrno", "timestamp": "2026-02-21T17:01:06.945920", "temp": 26.0, "humidity": 48.7, "pressure": 1008.7, "windDir": 174.9, "windSpeed": 3.4, "raw": {"air_pressure_at_sea_level": 1008.7, "air_temperature": 26.0, "cloud_area_fraction": 100.0, "relative_humidity": 48.7, "wind_from_direction": 174.9, "wind_speed": 3.4}}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "weights": {"qweather": 0.6, "openmeteo": 0.4, "yrno": 0.1}, "conflict": true}, {"timestamp": "2026-02-21T18:00:14.388429", "temp": 23.4, "humidity": 60.8, "dew": 15.9, "pressure": 1003.5, "windDir": 47, "windSpeed": 9.6, "qw": {"source": "qweather", "timestamp": "2026-02-21T18:00:09.913988", "temp": 23.0, "humidity": 62, "dew": 16.0, "pressure": 1001, "windDir": 0, "windSpeed": 10.0, "raw": {"obsTime": "2026-02-21T17:56+08:00", "temp": "23", "feelsLike": "21", "icon": "101", "text": "\u591a\u4e91", "wind360": "139", "windDir": "\u4e1c\u5357\u98ce", "windScale": "2", "windSpeed": "10", "humidity": "62", "precip": "0.0", "pressure": "1001", "vis": "30", "cloud": "10", "dew": "16"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T18:00:13.174662", "temp": 24.4, "humidity": 58, "dew": 15.6, "pressure": 1007, "windDir": 158, "windSpeed": 8.6, "raw": {"time": "2026-02-21T18:00", "interval": 900, "temperature_2m": 24.4, "relative_humidity_2m": 58, "dew_point_2m": 15.6, "surface_pressure": 1007.0, "wind_direction_10m": 158, "wind_speed_10m": 8.6}}, "yr": {"source": "yrno", "timestamp": "2026-02-21T18:00:14.388272", "temp": 23.6, "humidity": 59.9, "pressure": 1009.3, "windDir": 127.7, "windSpeed": 4.1, "raw": {"air_pressure_at_sea_level": 1009.3, "air_temperature": 23.6, "cloud_area_fraction": 67.2, "relative_humidity": 59.9, "wind_from_direction": 127.7, "wind_speed": 4.1}}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "weights": {"qweather": 0.7, "openmeteo": 0.3, "yrno": 0.1}, "conflict": false}, {"timestamp": "2026-02-21T19:00:13.811207", "temp": 22.3, "humidity": 63.2, "dew": 16.1, "pressure": 1003.5, "windDir": 46, "windSpeed": 6.4, "qw": {"source": "qweather", "timestamp": "2026-02-21T19:00:04.571706", "temp": 22.0, "humidity": 62, "dew": 16.0, "pressure": 1001, "windDir": 0, "windSpeed": 4.0, "raw": {"obsTime": "2026-02-21T18:58+08:00", "temp": "22", "feelsLike": "23", "icon": "151", "text": "\u591a\u4e91", "wind360": "221", "windDir": "\u897f\u5357\u98ce", "windScale": "1", "windSpeed": "4", "humidity": "62", "precip": "0.0", "pressure": "1001", "vis": "30", "cloud": "10", "dew": "16"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T19:00:12.375627", "temp": 23.1, "humidity": 66, "dew": 16.4, "pressure": 1007, "windDir": 155, "windSpeed": 11.9, "raw": {"time": "2026-02-21T19:00", "interval": 900, "temperature_2m": 23.1, "relative_humidity_2m": 66, "dew_point_2m": 16.4, "surface_pressure": 1007.4, "wind_direction_10m": 155, "wind_speed_10m": 11.9}}, "yr": {"source": "yrno", "timestamp": "2026-02-21T19:00:13.810941", "temp": 22.2, "humidity": 69.5, "pressure": 1009.9, "windDir": 128.7, "windSpeed": 3.8, "raw": {"air_pressure_at_sea_level": 1009.9, "air_temperature": 22.2, "cloud_area_fraction": 40.6, "relative_humidity": 69.5, "wind_from_direction": 128.7, "wind_speed": 3.8}}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "weights": {"qweather": 0.7, "openmeteo": 0.3, "yrno": 0.1}, "conflict": false}, {"timestamp": "2026-02-21T20:00:16.844405", "temp": 21.3, "humidity": 68.9, "dew": 16.1, "pressure": 1004.5, "windDir": 49, "windSpeed": 6.3, "qw": {"source": "qweather", "timestamp": "2026-02-21T20:00:10.293509", "temp": 21.0, "humidity": 68, "dew": 16.0, "pressure": 1002, "windDir": 0, "windSpeed": 4.0, "raw": {"obsTime": "2026-02-21T19:57+08:00", "temp": "21", "feelsLike": "19", "icon": "104", "text": "\u9634", "wind360": "126", "windDir": "\u4e1c\u5357\u98ce", "windScale": "1", "windSpeed": "4", "humidity": "68", "precip": "0.0", "pressure": "1002", "vis": "30", "cloud": "10", "dew": "16"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T20:00:13.504148", "temp": 21.9, "humidity": 71, "dew": 16.4, "pressure": 1008, "windDir": 162, "windSpeed": 11.7, "raw": {"time": "2026-02-21T20:00", "interval": 900, "temperature_2m": 21.9, "relative_humidity_2m": 71, "dew_point_2m": 16.4, "surface_pressure": 1008.1, "wind_direction_10m": 162, "wind_speed_10m": 11.7}}, "yr": {"source": "yrno", "timestamp": "2026-02-21T20:00:16.844274", "temp": 21.7, "humidity": 72.0, "pressure": 1010.6, "windDir": 156.1, "windSpeed": 4.3, "raw": {"air_pressure_at_sea_level": 1010.6, "air_temperature": 21.7, "cloud_area_fraction": 10.9, "relative_humidity": 72.0, "wind_from_direction": 156.1, "wind_speed": 4.3}}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "weights": {"qweather": 0.7, "openmeteo": 0.3, "yrno": 0.1}, "conflict": false}, {"timestamp": "2026-02-21T21:00:11.865599", "temp": 21.0, "humidity": 74.0, "dew": 16.1, "pressure": 1005.2, "windDir": 47, "windSpeed": 6.6, "qw": {"source": "qweather", "timestamp": "2026-02-21T21:00:03.342253", "temp": 21.0, "humidity": 74, "dew": 16.0, "pressure": 1003, "windDir": 0, "windSpeed": 5.0, "raw": {"obsTime": "2026-02-21T20:56+08:00", "temp": "21", "feelsLike": "22", "icon": "151", "text": "\u591a\u4e91", "wind360": "112", "windDir": "\u4e1c\u5357\u98ce", "windScale": "1", "windSpeed": "5", "humidity": "74", "precip": "0.0", "pressure": "1003", "vis": "29", "cloud": "10", "dew": "16"}}, "om": {"source": "openmeteo", "timestamp": "2026-02-21T21:00:08.816332", "temp": 21.1, "humidity": 74, "dew": 16.3, "pressure": 1008, "windDir": 157, "windSpeed": 10.2, "raw": {"time": "2026-02-21T21:00", "interval": 900, "temperature_2m": 21.1, "relative_humidity_2m": 74, "dew_point_2m": 16.3, "surface_pressure": 1008.6, "wind_direction_10m": 157, "wind_speed_10m": 10.2}}, "yr": {"source": "yrno", "timestamp": "2026-02-21T21:00:11.865301", "temp": 20.8, "humidity": 76.9, "pressure": 1011.4, "windDir": 158.9, "windSpeed": 3.9, "raw": {"air_pressure_at_sea_level": 1011.4, "air_temperature": 20.8, "cloud_area_fraction": 8.6, "relative_humidity": 76.9, "wind_from_direction": 158.9, "wind_speed": 3.9}}, "qw_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "om_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "yr_check": {"valid": true, "weight_factor": 1.0, "note": ""}, "weights": {"qweather": 0.7, "openmeteo": 0.3, "yrno": 0.1}, "conflict": false}];
        let idx = records.length - 1;
        
        function init() {
            const sel = document.getElementById('sel');
            sel.innerHTML = '';
            records.forEach((r, i) => {
                const opt = document.createElement('option');
                opt.value = i;
                opt.textContent = r.timestamp;
                if (i === idx) opt.selected = true;
                sel.appendChild(opt);
            });
            render();
        }
        
        function load(i) { idx = parseInt(i); render(); }
        function prev() { if (idx > 0) { idx--; document.getElementById('sel').value = idx; render(); } }
        function next() { if (idx < records.length - 1) { idx++; document.getElementById('sel').value = idx; render(); } }
        
        function render() {
            const r = records[idx];
            const qw = r.qw || {};
            const om = r.om || {};
            const yr = r.yr || {};
            const qwC = r.qw_check || {};
            const omC = r.om_check || {};
            const yrC = r.yr_check || {};
            const w = r.weights || {};
            
            const qwV = qwC.valid !== false;
            const omV = omC.valid !== false;
            const yrV = yrC.valid !== false;
            
            const qwW = w.qweather || 0.7;
            const omW = w.openmeteo || 0.3;
            const yrW = w.yrno || 0;
            
            let html = '<div class="sources-grid">';
            
            // å’Œé£
            html += '<div class="source-card qw">';
            html += '<div class="source-header"><div class="source-name qw">ğŸŒ¤ï¸ å’Œé£å¤©æ°”</div>';
            html += '<span class="source-status ' + (qwV ? 'ok' : 'err') + '">' + (qwV ? 'âœ“ æ­£å¸¸' : 'âœ— å¼‚å¸¸') + '</span></div>';
            html += '<div class="source-data">';
            html += '<div class="data-item"><div class="data-label">æ¸©åº¦</div><div class="data-value">' + (qw.temp || '--') + 'Â°C</div></div>';
            html += '<div class="data-item"><div class="data-label">æ¹¿åº¦</div><div class="data-value">' + (qw.humidity || '--') + '%</div></div>';
            html += '<div class="data-item"><div class="data-label">éœ²ç‚¹</div><div class="data-value">' + (qw.dew || '--') + 'Â°C</div></div>';
            html += '<div class="data-item"><div class="data-label">æ°”å‹</div><div class="data-value">' + (qw.pressure || '--') + 'hPa</div></div>';
            html += '<div class="data-item"><div class="data-label">é£å‘</div><div class="data-value">' + (qw.windDir || '--') + 'Â°</div></div>';
            html += '<div class="data-item"><div class="data-label">é£é€Ÿ</div><div class="data-value">' + (qw.windSpeed || '--') + 'm/s</div></div>';
            html += '</div>';
            if (qwC.note) html += '<div class="source-note">âš ï¸ ' + qwC.note + '</div>';
            html += '</div>';
            
            // OM
            html += '<div class="source-card om">';
            html += '<div class="source-header"><div class="source-name om">ğŸŒ Open-Meteo</div>';
            html += '<span class="source-status ' + (omV ? 'ok' : 'warn') + '">' + (omV ? 'âœ“ æ­£å¸¸' : 'âš ï¸ é™æƒ') + '</span></div>';
            html += '<div class="source-data">';
            html += '<div class="data-item"><div class="data-label">æ¸©åº¦</div><div class="data-value">' + (om.temp || '--') + 'Â°C</div></div>';
            html += '<div class="data-item"><div class="data-label">æ¹¿åº¦</div><div class="data-value">' + (om.humidity || '--') + '%</div></div>';
            html += '<div class="data-item"><div class="data-label">éœ²ç‚¹</div><div class="data-value">' + (om.dew || '--') + 'Â°C</div></div>';
            html += '<div class="data-item"><div class="data-label">æ°”å‹</div><div class="data-value">' + (om.pressure || '--') + 'hPa</div></div>';
            html += '<div class="data-item"><div class="data-label">é£å‘</div><div class="data-value">' + (om.windDir || '--') + 'Â°</div></div>';
            html += '<div class="data-item"><div class="data-label">é£é€Ÿ</div><div class="data-value">' + (om.windSpeed || '--') + 'm/s</div></div>';
            html += '</div>';
            if (omC.note) html += '<div class="source-note">âš ï¸ ' + omC.note + '</div>';
            html += '</div>';
            
            // yr.no
            html += '<div class="source-card yr">';
            html += '<div class="source-header"><div class="source-name yr">ğŸ‡³ğŸ‡´ yr.no</div>';
            html += '<span class="source-status ' + (yrV ? 'ok' : 'err') + '">' + (yrV ? 'âœ“ æ­£å¸¸' : 'âœ— å‰”é™¤') + '</span></div>';
            html += '<div class="source-data">';
            html += '<div class="data-item"><div class="data-label">æ¸©åº¦</div><div class="data-value">' + (yr.temp !== undefined ? yr.temp : '--') + 'Â°C</div></div>';
            html += '<div class="data-item"><div class="data-label">æ¹¿åº¦</div><div class="data-value">' + (yr.humidity !== undefined ? yr.humidity : '--') + '%</div></div>';
            html += '<div class="data-item"><div class="data-label">éœ²ç‚¹</div><div class="data-value">--</div></div>';
            html += '<div class="data-item"><div class="data-label">æ°”å‹</div><div class="data-value">' + (yr.pressure !== undefined ? yr.pressure : '--') + 'hPa</div></div>';
            html += '<div class="data-item"><div class="data-label">é£å‘</div><div class="data-value">' + (yr.windDir !== undefined ? yr.windDir : '--') + 'Â°</div></div>';
            html += '<div class="data-item"><div class="data-label">é£é€Ÿ</div><div class="data-value">' + (yr.windSpeed !== undefined ? yr.windSpeed : '--') + 'm/s</div></div>';
            html += '</div>';
            if (yrC.note) html += '<div class="source-note">âš ï¸ ' + yrC.note + '</div>';
            html += '<div class="source-note">ğŸ’¡ ä»…å‚ä¸æ°”å‹æ ¡éªŒ</div>';
            html += '</div>';
            
            html += '</div>';
            
            // æƒé‡
            html += '<div class="weights-section">';
            html += '<div class="section-title">âš–ï¸ æƒé‡è®¡ç®—ç»“æœ</div>';
            html += '<div class="weights-visual">';
            html += '<div class="weight-bar qw" style="width:' + (qwW * 100) + '%">' + Math.round(qwW * 100) + '%</div>';
            html += '<div class="weight-bar om" style="width:' + (omW * 100) + '%">' + Math.round(omW * 100) + '%</div>';
            if (yrW > 0) html += '<div class="weight-bar yr" style="width:' + (yrW * 100) + '%">' + Math.round(yrW * 100) + '%</div>';
            html += '</div></div>';
            
            // ç»“æœ
            html += '<div class="result-section">';
            html += '<div class="result-title">ğŸ¯ èåˆç»“æœ (' + (idx + 1) + ' / ' + records.length + ')</div>';
            html += '<div class="result-grid">';
            html += '<div class="result-item"><div class="result-value">' + r.temp + 'Â°C</div><div class="result-label">æ¸©åº¦</div></div>';
            html += '<div class="result-item"><div class="result-value">' + r.humidity + '%</div><div class="result-label">æ¹¿åº¦</div></div>';
            html += '<div class="result-item"><div class="result-value">' + r.dew + 'Â°C</div><div class="result-label">éœ²ç‚¹</div></div>';
            html += '<div class="result-item"><div class="result-value">' + r.pressure + 'hPa</div><div class="result-label">æ°”å‹</div></div>';
            html += '<div class="result-item"><div class="result-value">' + r.windDir + 'Â°</div><div class="result-label">é£å‘</div></div>';
            html += '<div class="result-item"><div class="result-value">' + r.windSpeed + 'm/s</div><div class="result-label">é£é€Ÿ</div></div>';
            html += '</div></div>';
            
            document.getElementById('content').innerHTML = html;
        }
        
        init();
    </script>
</body>
</html>